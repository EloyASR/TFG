FROM node:18.13.0
LABEL org.opencontainers.image.source https://github.com/eloyasr/tfg
COPY . /app
WORKDIR /app

ARG MONGODB_ATLAS=""
ARG SECRETORPRIVATEKEY=""
ARG RIOT_APIKEY=""
ARG RIOT_ACCOUNT_QUERY=""
ARG SUMMONER_ACCOUNT_QUERY=""
ARG MASTERY_QUERY=""
ARG RANKEDS_QUERY=""
ARG CHAMPIONS_QUERY=""
ARG GAMES_QUERY=""
ARG GAME_QUERY=""

ENV MONGODB_ATLAS=$MONGODB_ATLAS
ENV SECRETORPRIVATEKEY=$SECRETORPRIVATEKEY
ENV RIOT_APIKEY=$RIOT_APIKEY
ENV RIOT_ACCOUNT_QUERY=$RIOT_ACCOUNT_QUERY
ENV SUMMONER_ACCOUNT_QUERY=$SUMMONER_ACCOUNT_QUERY
ENV MASTERY_QUERY=$MASTERY_QUERY
ENV RANKEDS_QUERY=$RANKEDS_QUERY
ENV CHAMPIONS_QUERY=$CHAMPIONS_QUERY
ENV GAMES_QUERY=$GAMES_QUERY
ENV GAME_QUERY=$GAME_QUERY

#Install the dependencies
RUN npm install
CMD [ "npm", "start" ]
